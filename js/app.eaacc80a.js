(function(t){function e(e){for(var a,n,o=e[0],l=e[1],c=e[2],u=0,h=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/aavak-entry-app/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"002e":function(t,e,s){"use strict";s("927f")},"1c17":function(t,e,s){},"2f00":function(t,e,s){"use strict";s("954f")},3836:function(t,e,s){"use strict";s("1c17")},"499e":function(t,e,s){},"56d6":function(t,e,s){"use strict";s("499e")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=s("bc3a"),i=s.n(r),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("app-header"),s("router-view",{key:t.$route.fullPath})],1)},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container p-0 mb-5"},[s("nav",{staticClass:"navbar navbar-expand-md navbar-light  justify-content-between"},[s("router-link",{staticClass:"navbar-brand",attrs:{tag:"a",to:"/"}},[s("h1",[t._v("Entry")])]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("div",{staticClass:"form-inline form-row my-2 my-md-0 ml-auto mr-md-0 mr-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"col form-control mr-1 bg-light",attrs:{type:"date","aria-label":"Date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),s("button",{staticClass:"col btn btn-outline-dark my-2 my-md-0 px-md-2 ml-1",on:{click:t.searched}},[t._v(" Search ")])])])],1)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{id:"togglerButton",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon font-weight-bold"})])}],d={data(){return{date:this.today()}},methods:{today(){let t=new Date;return t.getFullYear().toString()+"-"+(t.getMonth()+1).toString().padStart(2,0)+"-"+t.getDate().toString().padStart(2,0)},searched(){this.$router.currentRoute.path!="/records/"+this.date+"/"&&(document.getElementById("togglerButton").click(),this.$router.push("/records/"+this.date+"/"))}}},u=d,h=(s("8d3c"),s("2877")),p=Object(h["a"])(u,l,c,!1,null,"8a33d1aa",null),m=p.exports,g={name:"App",components:{appHeader:m}},v=g,f=Object(h["a"])(v,n,o,!1,null,null,null),b=f.exports,y=s("8c4f"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"form"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-8 mb-3"},[s("label",{attrs:{for:"name"}},[t._v("Name : ")]),s("auto-complete",{attrs:{inputId:"name",items:Object.keys(t.names)},on:{input:function(e){t.name=e}}})],1),s("div",{staticClass:"form-group col-md-4 mb-3"},[s("label",{attrs:{for:"type"}},[t._v("Paddy Type : ")]),s("auto-complete",{attrs:{inputId:"type",items:t.types},on:{input:function(e){t.type=e}}})],1)]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"bags"}},[t._v("Bags : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bags,expression:"bags"}],staticClass:"form-control text-right",attrs:{type:"number",id:"bags"},domProps:{value:t.bags},on:{input:function(e){e.target.composing||(t.bags=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"weight"}},[t._v("Weight : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],staticClass:"form-control text-right",attrs:{type:"number",id:"weight"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"rate"}},[t._v("Rate : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.rate,expression:"rate"}],staticClass:"form-control text-right",attrs:{type:"number",id:"rate"},domProps:{value:t.rate},on:{input:function(e){e.target.composing||(t.rate=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"rate"}},[t._v("Total : ")]),s("input",{staticClass:"form-control text-right",attrs:{type:"number",id:"rate",disabled:""},domProps:{value:t.total}})])]),s("div",{staticClass:"form-row justify-content-md-between mt-3"},[s("div",{staticClass:"col-md-auto mb-3 form-group pt-2 d-flex justify-content-center"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gotBill,expression:"gotBill"}],attrs:{type:"checkbox",id:"gotBill"},domProps:{checked:Array.isArray(t.gotBill)?t._i(t.gotBill,null)>-1:t.gotBill},on:{change:function(e){var s=t.gotBill,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&(t.gotBill=s.concat([i])):n>-1&&(t.gotBill=s.slice(0,n).concat(s.slice(n+1)))}else t.gotBill=r}}}),s("span",{staticClass:"default"})]),s("label",{staticClass:"ls-5 px-2",attrs:{for:"gotBill"}},[t._v("Bill Received ?")])]),s("div",{staticClass:"col-md-auto mb-3 form-group d-flex justify-content-center"},[s("button",{staticClass:"btn btn-light border px-3",on:{click:t.saveEntry}},[t._v("Add")])])])])])])])},w=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"autocomplete"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",id:t.inputId},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onChange],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrowDown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrowUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}]}}),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results",attrs:{id:"autocomplete-results"}},[t.isLoading?s("li",{staticClass:"loading"},[t._v("Loading results...")]):t._l(t.results,(function(e,a){return s("li",{key:a,staticClass:"autocomplete-result pl-1 pr-3",class:{"is-active":a===t.arrowCounter},on:{click:function(s){return t.setResult(e)}}},[t._v(t._s(e))])}))],2)])},x=[],j={name:"autocomplete",props:{items:{type:Array,required:!1,default:()=>[]},isAsync:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:""},showFirst:{type:Boolean,required:!1,default:!1},value:{type:String,required:!1,default:""}},data(){return{search:"",isOpen:!1,results:[],isLoading:!1,arrowCounter:0}},methods:{onChange(){this.$emit("input",this.search),this.isAsync?this.isLoading=!0:(this.filterResults(),this.isOpen=!0)},filterResults(){this.results=this.items.filter(t=>t.toLowerCase().indexOf(this.search.toLowerCase())>=0).map(t=>this.titleCase(t))},setResult(t){this.search=t,this.isOpen=!1,this.$emit("input",t)},onArrowDown(t){++this.arrowCounter>=this.results.length&&(this.arrowCounter=0)},onArrowUp(){--this.arrowCounter<0&&(this.arrowCounter=this.results.length-1)},onEnter(){this.setResult(this.results[this.arrowCounter]),this.arrowCounter=-1},handleClickOutside(t){this.$el.contains(t.target)||(this.isOpen=!1)},titleCase(t){let e=t.toLowerCase().split(" ");for(let s=0;s<e.length;s++)e[s]=e[s].charAt(0).toUpperCase()+e[s].substring(1);return e.join(" ")}},watch:{items:function(t,e){t.length!==e.length&&(this.results=t,this.isLoading=!1)}},created(){this.showFirst&&this.items.length>0?this.search=this.items[0]:this.search=this.titleCase(this.value),document.addEventListener("click",this.handleClickOutside)},destroyed(){document.removeEventListener("click",this.handleClickOutside)}},k=j,E=(s("002e"),Object(h["a"])(k,_,x,!1,null,null,null)),B=E.exports,O={components:{AutoComplete:B},data(){return{names:[],types:["Dabra","Jira","Kolam","Parimal","Guj-17","Gujari","Basmati","Black Paddy"],name:"",type:"",bags:0,weight:0,rate:0,gotBill:!1,date:""}},created(){let t=new Date;this.date=t.getFullYear().toString()+"-"+(t.getMonth()+1).toString().padStart(2,0)+"-"+t.getDate().toString().padStart(2,0),i.a.get("names.json/").then(t=>{null!=t.data&&(this.names=t.data)}).catch(t=>console.error(t))},computed:{total(){return(this.weight*this.rate).toFixed(2)}},methods:{validEntry(){return""!=this.name.trim()&&(""!=this.type.trim()&&(0!=this.bags&&0!=this.total))},saveEntry(){if(this.validEntry()){if(this.name=this.name.toLowerCase(),Object.keys(this.names).includes(this.name)){for(let t in this.names)t==this.name&&++this.names[t];i.a.put("names.json/?print=silent",this.names).then(()=>{}).catch(t=>console.error(t))}else{let t=JSON.parse('{"'+this.name+'": 1}');i.a.patch("names.json/?print=silent",t).then(()=>this.names[this.name]=1).catch(t=>console.error(t))}i.a.post("entries/"+this.date+"/"+this.name+".json/?print=silent",{type:this.type,bags:parseInt(this.bags),weight:parseFloat(this.weight),rate:parseFloat(this.rate),gotBill:this.gotBill}).then(t=>{this.bags=this.weight=this.rate=0,this.gotBill=!1}).catch(t=>console.error(t))}},titleCase(t){let e=t.toLowerCase().split(" ");for(let s=0;s<e.length;s++)e[s]=e[s].charAt(0).toUpperCase()+e[s].substring(1);return e.join(" ")}}},A=O,S=(s("56d6"),Object(h["a"])(A,C,w,!1,null,"389db7e8",null)),P=S.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h4",[t._v("Entries from "+t._s(t.date)+" :")]),s("hr"),t.isLoading?s("div",{staticClass:"h5 text-center mt-3"},[t._m(0)]):t.records.length<=0?s("div",{staticClass:"h5 text-center"},[s("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" No Entries found on this date! ")])]):s("div",{staticClass:"table-responsive"},[s("table",{key:t.tableChanged,staticClass:"table"},[s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("Name")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Paddy")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Bags")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Weight")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Rate")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Amount")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Bill?")]),t.isAdmin?s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Actions")]):t._e()])]),t._l(t.names,(function(e,a){return s("tbody",{key:a},[t._l(t.records[e],(function(a,r){return s("tr",{key:r,staticClass:"text-muted"},[s("th",{attrs:{scope:"row"}}),s("td",{attrs:{width:"20%"}}),s("td",{staticClass:"text-center"},[t._v(t._s(a.type))]),s("td",{staticClass:"text-center"},[t._v(t._s(a.bags))]),s("td",{staticClass:"text-center"},[t._v(t._s(a.weight))]),s("td",{staticClass:"text-center"},[t._v(t._s(a.rate))]),s("td",{staticClass:"text-center"},[t._v(t._s((a.weight*a.rate).toFixed(2)))]),s("td",{staticClass:"text-center",staticStyle:{color:"green"}},[t._v(t._s(a.gotBill?"✓":""))]),t._v(" "),s("td",{staticClass:"text-center"},[s("span",{staticClass:"btn py-0",on:{click:function(s){return t.editEntry(e,r)}}},[s("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})]),s("span",{staticClass:"btn py-0",on:{click:function(s){return t.deleteEntry(e,r)}}},[s("i",{staticClass:"fa fa-trash-o",attrs:{"aria-hidden":"true"}})])])])})),s("tr",{staticClass:"bg-light",staticStyle:{"border-bottom":"2px solid grey","font-weight":"450"}},[s("th",{attrs:{scope:"row"}}),s("td",{staticStyle:{"white-space":"nowrap"}},[t._v(t._s(t.titleCase(e)))]),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s(t.sumOfBags(e)))]),s("td",{staticClass:"text-center"},[t._v(t._s(t.sumOfWeight(e)))]),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s(t.sumOfAmount(e).toFixed(2)))]),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s((1.005*t.sumOfAmount(e)).toFixed(2)))])])],2)})),s("tbody",[s("tr",{staticStyle:{"border-bottom":"2px solid grey","font-size":"103%"}},[s("th",{attrs:{scope:"row"}}),s("td"),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s(t.totalBags()))]),s("td",{staticClass:"text-center"},[t._v(t._s(t.totalWeight()))]),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s(t.totalAmount().toFixed(2)))]),s("td",{staticClass:"text-center"}),s("td",{staticClass:"text-center"},[t._v(t._s((1.005*t.totalAmount()).toFixed(2)))])])])],2)])])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-center"},[s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],$={data(){return{date:this.$route.params.date,records:[],isAdmin:!0,isLoading:!0,names:[],cnti:0,tableChanged:!1}},created(){i.a.get("entries/"+this.date+".json/").then(t=>{null!=t.data&&(this.records=t.data,this.names=Object.keys(this.records),this.names.sort()),this.isLoading=!1,this.cnti=0}).catch(t=>console.error(t))},methods:{editEntry(t,e){let s=this.records[t][e];s.date=this.date,s.name=t,s.id=e,this.$store.commit("setEditEntry",s),this.$router.push("/edit")},deleteEntry(t,e){i.a.delete("entries/"+this.date+"/"+t+"/"+e+".json/?print=silent").then(s=>{delete this.records[t][e],this.tableChanged^=!0}).catch(t=>console.error(t)),i.a.get("names/"+t+".json/").then(e=>{let s=e.data;null==s||(--s>0?i.a.put("names/"+t+".json/?print=silent",s).then(()=>{}).catch(t=>console.error(t)):i.a.delete("names/"+t+".json/?print=silent").then(()=>{}).catch(t=>console.error(t)))}).catch(t=>console.error(t))},sumOfBags(t){let e=0;return Object.values(this.records[t]).forEach(t=>{e+=t.bags}),e},sumOfWeight(t){let e=0;return Object.values(this.records[t]).forEach(t=>{e+=t.weight}),e},sumOfAmount(t){let e=0;return Object.values(this.records[t]).forEach(t=>{e+=t.rate*t.weight}),e},titleCase(t){let e=t.toLowerCase().split(" ");for(let s=0;s<e.length;s++)e[s]=e[s].charAt(0).toUpperCase()+e[s].substring(1);return e.join(" ")},totalBags(){let t=0;return this.names.forEach(e=>{t+=this.sumOfBags(e)}),t},totalWeight(){let t=0;return this.names.forEach(e=>{t+=this.sumOfWeight(e)}),t},totalAmount(){let t=0;return this.names.forEach(e=>{t+=this.sumOfAmount(e)}),t}}},F=$,R=(s("2f00"),Object(h["a"])(F,N,L,!1,null,"3a45bbce",null)),D=R.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"wrapper"},[t.noEditEntry?s("h3",{staticClass:"text-center"},[t._v("You need to select an entry from the records.")]):s("div",{staticClass:"form"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-8 mb-3"},[s("label",{attrs:{for:"name"}},[t._v("Name : ")]),s("auto-complete",{attrs:{inputId:"name",items:Object.keys(t.names),value:t.name},on:{input:function(e){t.name=e}}})],1),s("div",{staticClass:"form-group col-md-4 mb-3"},[s("label",{attrs:{for:"type"}},[t._v("Paddy Type : ")]),s("auto-complete",{attrs:{inputId:"type",items:t.types,value:t.type},on:{input:function(e){t.type=e}}})],1)]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"bags"}},[t._v("Bags : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bags,expression:"bags"}],staticClass:"form-control text-right",attrs:{type:"number",id:"bags"},domProps:{value:t.bags},on:{input:function(e){e.target.composing||(t.bags=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"weight"}},[t._v("Weight : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],staticClass:"form-control text-right",attrs:{type:"number",step:"0.01",id:"weight"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"rate"}},[t._v("Rate : ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.rate,expression:"rate"}],staticClass:"form-control text-right",attrs:{type:"number",step:"0.01",id:"rate"},domProps:{value:t.rate},on:{input:function(e){e.target.composing||(t.rate=e.target.value)}}})]),s("div",{staticClass:"col-md-3 mb-3 form-group"},[s("label",{attrs:{for:"rate"}},[t._v("Total : ")]),s("input",{staticClass:"form-control text-right",attrs:{type:"number",id:"rate",disabled:""},domProps:{value:t.total}})])]),s("div",{staticClass:"form-row justify-content-end mt-3"},[s("div",{staticClass:"col-md-auto mb-3 form-group pt-2 d-flex justify-content-center"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gotBill,expression:"gotBill"}],attrs:{type:"checkbox",id:"gotBill"},domProps:{checked:Array.isArray(t.gotBill)?t._i(t.gotBill,null)>-1:t.gotBill},on:{change:function(e){var s=t.gotBill,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&(t.gotBill=s.concat([i])):n>-1&&(t.gotBill=s.slice(0,n).concat(s.slice(n+1)))}else t.gotBill=r}}}),s("span",{staticClass:"default"})]),s("label",{staticClass:"ls-5 px-2",attrs:{for:"gotBill"}},[t._v("Bill Received ?")])]),s("div",{staticClass:"col-md-auto my-auto form-group"},[s("button",{staticClass:"btn btn-light border px-3",on:{click:t.updateEntry}},[t._v("Update")])])])])])])])},I=[],T={components:{AutoComplete:B},data(){return{noEditEntry:!1,id:null,date:null,name:null,names:[],types:["Dabra","Jira","Kolam","Parimal","Guj-17","Gujari","Basmati","Black Paddy"],prevName:"",type:"",bags:0,weight:0,rate:0,gotBill:!1}},created(){let t=this.$store.state.editEntry;null!=t?(this.id=t["id"],this.name=t["name"],this.date=t["date"],this.type=t["type"],this.bags=t["bags"],this.weight=t["weight"],this.rate=t["rate"],this.gotBill=t["gotBill"],this.prevName=this.name,i.a.get("names.json/").then(t=>{null!=t.data&&(this.names=t.data)}).catch(t=>console.error(t))):this.noEditEntry=!0},computed:{total(){return(this.weight*this.rate).toFixed(2)}},methods:{validEntry(){return""!=this.name.trim()&&(""!=this.type.trim()&&(0!=this.bags&&0!=this.total))},updateEntry(){if(!this.validEntry())return;let t=this.name.toLowerCase();if(t!=this.prevName){if(void 0==this.names[t]){let e=JSON.parse("{'"+t+"' : 1}");i.a.post("names.json/?print=silent",e).then(()=>{}).catch(t=>console.log(t)),this.names.push(t)}else i.a.get("names/"+t+".json/").then(e=>{let s=e.data+1;i.a.put("names/"+t+".json/?print=silent",s).then(()=>{}).catch(t=>console.error(t))}).catch(t=>console.error(t));i.a.delete("entries/"+this.date+"/"+this.prevName+"/"+this.id+".json/?print=silent").then(()=>{}).catch(t=>console.error(t)),i.a.get("names/"+this.prevName+".json/").then(t=>{let e=t.data;null==e||0==e||(1==e?i.a.delete("names/"+this.prevName+".json/?print=silent").then(()=>{}).catch(t=>console.error(t)):i.a.put("names/"+this.prevName+".json/?print=silent",e).then(()=>{}).catch(t=>console.error(t)))}).catch(t=>console.error(t))}let e={type:this.type,bags:parseInt(this.bags),weight:parseFloat(this.weight),rate:parseFloat(this.rate),gotBill:this.gotBill};i.a.put("entries/"+this.date+"/"+t+"/"+this.id+".json/?print=silent",e).then(t=>{this.$router.push("/records/"+this.date+"/")}).catch(t=>console.error(t))},titleCase(t){let e=t.toLowerCase().split(" ");for(let s=0;s<e.length;s++)e[s]=e[s].charAt(0).toUpperCase()+e[s].substring(1);return e.join(" ")}},beforeRouteLeave(t,e,s){this.$store.commit("unsetEditEntry"),s()}},W=T,q=(s("3836"),Object(h["a"])(W,U,I,!1,null,"21fbfb38",null)),J=q.exports;a["a"].use(y["a"]);const M=[{path:"/",name:"Home",component:P},{path:"/records/:date",name:"Records",component:D},{path:"/edit",name:"Edit",component:J},{path:"/*",redirect:"/"}],G=new y["a"]({mode:"history",base:"/aavak-entry-app/",routes:M});var Y=G,H=s("2f62"),K=s("0e44");a["a"].use(H["a"]);var z=new H["a"].Store({plugins:[Object(K["a"])({storage:window.sessionStorage})],state:{editEntry:null},mutations:{setEditEntry(t,e){t.editEntry=e},unsetEditEntry(t){t.editEntry=null}},actions:{},modules:{}});i.a.defaults.baseURL="https://aavak-app.firebaseio.com/",a["a"].config.productionTip=!1,new a["a"]({router:Y,store:z,render:function(t){return t(b)}}).$mount("#app")},"8d3c":function(t,e,s){"use strict";s("ceda")},"927f":function(t,e,s){},"954f":function(t,e,s){},ceda:function(t,e,s){}});
//# sourceMappingURL=app.eaacc80a.js.map